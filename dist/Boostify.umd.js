(function(g,m){typeof exports=="object"&&typeof module<"u"?module.exports=m():typeof define=="function"&&define.amd?define(m):(g=typeof globalThis<"u"?globalThis:g||self,g.Boostify=m())})(this,function(){"use strict";function g({url:u,inlineScript:e,attributes:t=[]}){const s=document.createElement("script");return u&&(s.src=u),e&&(s.textContent=e),m(s,t),s}function m(u,e){e.forEach(t=>{const[s,i]=t.includes("=")?t.split("="):[t,!0];u.setAttribute(s,i===!0?"":i.replace(/"/g,""))})}function v(u,e){let t;if(e==="head"||e==="body")t=document[e];else if(typeof e=="string"){if(t=document.querySelector(e),!t)throw console.error("No element matches the selector: "+e),new Error("No element matches the selector: "+e)}else e instanceof Element?t=e:t=document.head;t.appendChild(u)}function k({url:u,inlineStyle:e,attributes:t=[]}){let s;if(u)s=document.createElement("link"),s.rel="stylesheet",s.href=u;else if(e)s=document.createElement("style"),s.textContent=e;else throw new Error('Either "url" or "inlineStyle" must be provided.');return m(s,t),s}const x={brand:"BoostifyJs"},f={debugDefault:"Execution - On Page Load - Will load delay scripts with attribute",scriptLoaded:"Script loaded",scriptNotLoaded:"Script not loaded",events:{load:{positive:"All scripts were executed on load",negative:"Error executing scripts on load"},scroll:{positive:"All scripts were executed on scroll",negative:"Error executing scripts on scroll"},mousemove:{positive:"All scripts were executed on mousemove",negative:"Error executing scripts on mousemove"},touchstart:{positive:"All scripts were executed on touchstart",negative:"Error executing scripts on touchstart"}}},w={debugDefault:"Boostify js - Execution on click event"},p={debugDefault:"Boostify - Execution - On Scroll at",debugDefaultSecond:"from the top of the page"},y={noElement:"ObserverEvent: Provided 'element' is neither a valid DOM element nor a NodeList.",noCallback:"ObserverEvent: Provided 'callback' is not a function.",noObserver:"ObserverEvent: No observer was found for the provided element."};class a{static handleError(e,t,s,i=!1){return console.error(`[${e}] ${t}`,s),i&&(s!=null&&s.stack)&&console.error(`[${e}] Stack trace:`,s.stack),s}static throwError(e,t){const s=new Error(`[${e}] ${t}`);throw console.error(s),s}static assertCondition(e,t,s){e||this.throwError(t,s)}}class b{constructor(e){this.debug=e.debug||!1,this.callbackFn=e.callback||null,this.type=this.constructor.name,this.init()}init(){this.debug&&this.logDebug("initialized")}executeCallback(e){return typeof this.callbackFn=="function"?(this.callbackFn(e),!0):!1}logDebug(e){if(this.debug){const{emoji:t,style:s}=this.getDebugConfig();console.log(`%c${t} ${this.type}: ${e}`,s)}}logError(e,t){console.error(`âŒ ${this.type}: ${e}`,t)}getDebugConfig(){return{emoji:"ðŸ”§",style:"background: #333; color: #fff; padding: 3px 6px; border-radius: 3px;"}}destroy(){this.logDebug("destroyed")}}class I extends b{constructor(e){super(e),this.selector=e.selector||"script[type='text/boostify']",this.wereScriptsExecuted=!1,this.maxTime=e.maxTime||600,this.eventsHandler=e.eventsHandler||["mousemove","load","scroll","touchstart"],this.worker=e.worker||!1,this.workerInstance=null,this._handleScroll=this._handleScroll.bind(this),this._mouseMove=this._mouseMove.bind(this),this._touchStart=this._touchStart.bind(this),this.setupTimeout(),this.setupEvents(),this.logDebug(`${f.debugDefault} "${this.selector}" on [${this.eventsHandler.join(", ")}] after ${this.maxTime}ms${this.worker?" (worker mode)":""}`)}getDebugConfig(){return{emoji:"âš¡",style:"background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: #fff; padding: 4px 8px; border-radius: 4px; font-weight: bold;"}}setupTimeout(){this.timeoutId=setTimeout(()=>{if(!this.wereScriptsExecuted){this.wereScriptsExecuted=!0;const e=performance.now();this.fire().then(t=>{t.loadTime=Math.round(performance.now()-e),this.executeCallback(t),this.logDebug(f.events.load.positive)}).catch(t=>{this.executeCallback({success:!1,error:t.message}),this.logError(f.events.load.negative,t)})}},this.maxTime)}setupEvents(){this.eventsHandler.forEach(e=>{e==="scroll"?window.addEventListener("scroll",this._handleScroll):e==="mousemove"?window.addEventListener("mousemove",this._mouseMove):e==="touchstart"&&window.addEventListener("touchstart",this._touchStart)})}_handleScroll(){this.triggerLoad("scroll",f.events.scroll)}_mouseMove(){this.triggerLoad("mousemove",f.events.mousemove)}_touchStart(){this.triggerLoad("touchstart",f.events.touchstart)}triggerLoad(e,t){if(!this.wereScriptsExecuted){this.wereScriptsExecuted=!0;const s=performance.now();this.fire().then(i=>{i.loadTime=Math.round(performance.now()-s),i.triggeredBy=e,this.executeCallback(i),this.logDebug(t.positive)}).catch(i=>{this.executeCallback({success:!1,error:i.message,triggeredBy:e}),this.logError(t.negative,i)})}}fire(){return this.worker&&typeof Worker<"u"?this.fireWithWorker():this.fireTraditional()}fireTraditional(){return new Promise((e,t)=>{const s=document.querySelectorAll(this.selector);if(s.length===0){a.throwError("OnLoad.fire",`No scripts with ${this.selector} found.`);return}const i=Array.from(s);let r=0;const n=[],o=h=>{if(h.src){const d=document.createElement("script");d.src=h.src,d.onload=()=>{r++,n.push({url:h.src,success:!0,type:"external"}),this.logDebug(`${f.scriptLoaded} ${h.src}`),r===i.length&&e({success:!0,method:"traditional",scripts:n})},d.onerror=()=>{n.push({url:h.src,success:!1,type:"external"}),t(new Error(`${f.scriptNotLoaded}${h.src}`))},document.body.appendChild(d)}else try{const d=document.createElement("script");d.text=h.innerText,document.body.appendChild(d),r++,n.push({success:!0,type:"inline"}),r===i.length&&e({success:!0,method:"traditional",scripts:n})}catch(d){n.push({success:!1,type:"inline",error:d.message}),t(d)}},c=i.filter(h=>h.src),l=i.filter(h=>!h.src);c.forEach(o),c.length===0?l.forEach(o):this.externalScriptsCheckIntervalId=setInterval(()=>{r>=c.length&&(clearInterval(this.externalScriptsCheckIntervalId),l.forEach(o))},100)})}fireWithWorker(){return new Promise((e,t)=>{const s=document.querySelectorAll(this.selector);if(s.length===0){a.throwError("OnLoad.fire",`No scripts with ${this.selector} found.`);return}this.logDebug("Loading scripts via Web Worker + Proxy");const i=[...s].filter(c=>c.src),r=[...s].filter(c=>!c.src),n=i.map(c=>c.src);if(n.length===0){const c=this.executeInlineScripts(r);e({success:!0,method:"worker",scripts:c});return}const o=`
                const PROXY_URL = 'https://boostifyjs.com/proxy?url=';
                self.onmessage = async ({ data }) => {
                    const { urls, id } = data;
                    try {
                        const results = await Promise.all(
                            urls.map(async (url) => {
                                try {
                                    const needsProxy = !url.startsWith(self.location.origin);
                                    const fetchUrl = needsProxy ? PROXY_URL + encodeURIComponent(url) : url;
                                    const response = await fetch(fetchUrl);
                                    if (!response.ok) throw new Error('HTTP ' + response.status);
                                    const content = await response.text();
                                    return { url, content, success: true, proxied: needsProxy };
                                } catch (error) {
                                    return { url, error: error.message, success: false };
                                }
                            })
                        );
                        self.postMessage({ id, results, success: true });
                    } catch (error) {
                        self.postMessage({ id, error: error.message, success: false });
                    }
                };
            `;try{const c=new Blob([o],{type:"application/javascript"});this.workerInstance=new Worker(URL.createObjectURL(c))}catch{return this.logError("Worker creation failed, falling back to traditional loading"),this.fireTraditional().then(e).catch(t)}this.workerInstance.onmessage=({data:c})=>{if(c.success){const l=[];c.results.forEach(d=>{if(d.success){const E=document.createElement("script");E.text=d.content,document.body.appendChild(E),l.push({url:d.url,success:!0,type:"external",proxied:d.proxied}),this.logDebug(`${f.scriptLoaded} (via Worker) ${d.url}`)}else l.push({url:d.url,success:!1,type:"external",error:d.error}),this.logError(`Failed to load: ${d.url} - ${d.error}`)});const h=this.executeInlineScripts(r);l.push(...h),e({success:!0,method:"worker",scripts:l})}else t(new Error(c.error));this.workerInstance.terminate(),this.workerInstance=null},this.workerInstance.onerror=c=>{this.logError("Worker error, falling back to traditional loading"),this.workerInstance.terminate(),this.workerInstance=null,this.fireTraditional().then(e).catch(t)},this.workerInstance.postMessage({urls:n,id:Date.now()})})}executeInlineScripts(e){const t=[];return e.forEach(s=>{try{const i=document.createElement("script");i.text=s.innerText,document.body.appendChild(i),t.push({success:!0,type:"inline"})}catch(i){t.push({success:!1,type:"inline",error:i.message})}}),t}destroy(){this.timeoutId&&clearTimeout(this.timeoutId),this.externalScriptsCheckIntervalId&&clearInterval(this.externalScriptsCheckIntervalId),this.workerInstance&&(this.workerInstance.terminate(),this.workerInstance=null),this.eventsHandler.forEach(e=>{e==="scroll"?window.removeEventListener("scroll",this._handleScroll):e==="mousemove"?window.removeEventListener("mousemove",this._mouseMove):e==="touchstart"&&window.removeEventListener("touchstart",this._touchStart)}),super.destroy()}}class C extends b{constructor(e){super(e),a.assertCondition(e.element instanceof Element,"ClickEvnt","Element is required and must be a valid DOM element"),this.element=e.element,this.clickHandler=this.clickHandler.bind(this),this.element.addEventListener("click",this.clickHandler)}init(){this.logDebug(w.debugDefault)}getDebugConfig(){return{emoji:"ðŸ‘†",style:"background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); color: #fff; padding: 4px 8px; border-radius: 4px; font-weight: bold;"}}clickHandler(e){e.preventDefault(),this.executeCallback({event:"click",element:this.element})}destroy(){this.element.removeEventListener("click",this.clickHandler),super.destroy()}}class T extends b{constructor(e){super(e),this.distance=e.distance,this.name=e.name||`scroll-${this.distance}`,this.wasScrollExecuted=!1,this.scrollHandler=this.scrollHandler.bind(this),window.addEventListener("scroll",this.scrollHandler)}init(){this.logDebug(`${p.debugDefault} ${this.distance} ${p.debugDefaultSecond}`)}getDebugConfig(){return{emoji:"ðŸ“œ",style:"background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%); color: #fff; padding: 4px 8px; border-radius: 4px; font-weight: bold;"}}scrollHandler(){!this.wasScrollExecuted&&window.scrollY>=this.distance&&(this.wasScrollExecuted=!0,this.executeCallback({event:"scroll",distance:this.distance,name:this.name}))}destroy(){window.removeEventListener("scroll",this.scrollHandler),super.destroy()}}class S extends b{constructor(e){super(e),a.assertCondition(e.element instanceof Element||NodeList.prototype.isPrototypeOf(e.element),"ObserverEvent","Element is required and must be a valid DOM element or NodeList"),this.element=e.element,this.options=e.options||{root:null,rootMargin:"0px",threshold:.01},this.observers=[],this.setupObservers()}init(){this.logDebug("Observer initialized")}getDebugConfig(){return{emoji:"ðŸ‘ï¸",style:"background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); color: #fff; padding: 4px 8px; border-radius: 4px; font-weight: bold;"}}setupObservers(){NodeList.prototype.isPrototypeOf(this.element)?this.element.forEach(e=>this.observeElement(e)):this.element instanceof Element?this.observeElement(this.element):this.logError(y.noElement)}observeElement(e){const t=new IntersectionObserver((s,i)=>{s.forEach(r=>{r.isIntersecting&&this.executeCallback(r,i)})},this.options);t.observe(e),this.observers.push({element:e,observer:t}),this.logDebug(`Observing element: ${e.tagName}${e.id?"#"+e.id:""}`)}destroy(e){if(e&&e.element){const t=e.element,s=this.observers.findIndex(i=>i.element===t);s!==-1?(this.observers[s].observer.disconnect(),this.observers.splice(s,1),this.logDebug(`Observer for element ${t.tagName}${t.id?"#"+t.id:""} destroyed`)):this.logError(y.noObserver)}else this.observers.forEach(t=>{t.observer.disconnect(),this.logDebug(`Observer for element ${t.element.tagName}${t.element.id?"#"+t.element.id:""} destroyed`)}),this.observers=[];super.destroy()}}class ${constructor({idleTime:e,maxTime:t=2e3,events:s=["mousemove","scroll","keydown","mousedown","mouseup","click","touchstart","touchend"],callback:i,debug:r=!1}){this.idleTime=e,this.maxTime=t,this.events=s,this.callback=i,this.debug=r,this.lastActivityTime=Date.now(),this.checkingInactivity=!1,this.idleCallbackId=null,this.userIdleTimeoutId=null,this.boundResetIdleTimer=this.resetIdleTimer.bind(this),this.idleTime!==void 0&&this.idleTime>=this.maxTime&&(this.debug&&console.warn("%câš ï¸ InactivityEvnt: idleTime debe ser menor que maxTime. Ajustando idleTime a "+(this.maxTime-100),"background: #fff3cd; color: #856404; padding: 4px 8px; border-radius: 4px;"),this.idleTime=this.maxTime-100),this.init()}init(){if(this.events!=="none"&&this.idleTime!==void 0&&this.events.forEach(e=>{window.addEventListener(e,this.boundResetIdleTimer,{passive:!0})}),this.startChecking(),this.debug){const e=this.idleTime!==void 0?"user idle":"native idle";console.log(`%cðŸ’¤ InactivityEvnt: initialized in ${e} mode, maxTime: ${this.maxTime}`,"background: linear-gradient(135deg, #fa709a 0%, #fee140 100%); color: #000; padding: 4px 8px; border-radius: 4px; font-weight: bold;")}}resetIdleTimer(){this.lastActivityTime=Date.now(),this.idleTime!==void 0&&this.userIdleTimeoutId&&(clearTimeout(this.userIdleTimeoutId),this.scheduleUserIdleCheck())}startChecking(){this.checkingInactivity=!0,this.lastActivityTime=Date.now(),this.idleTime!==void 0?this.scheduleUserIdleCheck():this.scheduleNativeIdleCheck()}scheduleNativeIdleCheck(){this.checkingInactivity&&("requestIdleCallback"in window?this.idleCallbackId=requestIdleCallback(()=>{this.checkingInactivity&&(this.debug&&console.log("%cðŸ’¤ InactivityEvnt: Browser idle detected","background: linear-gradient(135deg, #fa709a 0%, #fee140 100%); color: #000; padding: 4px 8px; border-radius: 4px; font-weight: bold;"),this.executeCallback())},{timeout:this.maxTime}):this.idleCallbackId=setTimeout(()=>{this.checkingInactivity&&(this.debug&&console.log("%cðŸ’¤ InactivityEvnt: Timeout reached (no requestIdleCallback)","background: linear-gradient(135deg, #fa709a 0%, #fee140 100%); color: #000; padding: 4px 8px; border-radius: 4px; font-weight: bold;"),this.executeCallback())},this.maxTime))}scheduleUserIdleCheck(){this.checkingInactivity&&(this.userIdleTimeoutId=setTimeout(()=>{this.checkingInactivity&&(this.debug&&console.log(`%cðŸ’¤ InactivityEvnt: User idle detected after ${this.idleTime}ms`,"background: linear-gradient(135deg, #fa709a 0%, #fee140 100%); color: #000; padding: 4px 8px; border-radius: 4px; font-weight: bold;"),this.executeCallback())},this.idleTime),"requestIdleCallback"in window?this.idleCallbackId=requestIdleCallback(()=>{this.checkingInactivity&&Date.now()-this.lastActivityTime>=this.idleTime&&(this.debug&&console.log("%cðŸ’¤ InactivityEvnt: User idle confirmed by requestIdleCallback","background: linear-gradient(135deg, #fa709a 0%, #fee140 100%); color: #000; padding: 4px 8px; border-radius: 4px; font-weight: bold;"),this.executeCallback())},{timeout:this.maxTime}):this.idleCallbackId=setTimeout(()=>{this.checkingInactivity&&(this.debug&&console.log("%cðŸ’¤ InactivityEvnt: Max timeout reached","background: linear-gradient(135deg, #fa709a 0%, #fee140 100%); color: #000; padding: 4px 8px; border-radius: 4px; font-weight: bold;"),this.executeCallback())},this.maxTime))}executeCallback(){this.clearAllTimers(),this.callback(),this.checkingInactivity&&(this.lastActivityTime=Date.now(),this.startChecking())}clearAllTimers(){this.userIdleTimeoutId&&(clearTimeout(this.userIdleTimeoutId),this.userIdleTimeoutId=null),this.idleCallbackId&&("requestIdleCallback"in window&&typeof cancelIdleCallback=="function"?cancelIdleCallback(this.idleCallbackId):clearTimeout(this.idleCallbackId),this.idleCallbackId=null)}destroy(){this.checkingInactivity=!1,this.clearAllTimers(),this.events!=="none"&&this.idleTime!==void 0&&this.events.forEach(e=>{window.removeEventListener(e,this.boundResetIdleTimer)}),this.debug&&console.log("%cðŸ’¤ InactivityEvnt: destroyed","background: linear-gradient(135deg, #fa709a 0%, #fee140 100%); color: #000; padding: 4px 8px; border-radius: 4px; font-weight: bold;")}}class D{constructor(e={}){this.debug=e.debug||!1,this.events=[],this.init()}init(){this.debug&&console.log(`%cðŸš€ ${x.brand} - Initialized`,"background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: #fff; padding: 6px 12px; border-radius: 4px; font-weight: bold; font-size: 14px;")}registerEvent(e,t,s={}){const i={type:e,instance:t,...s};return this.events.push(i),i}onload(e={}){const t=new I({debug:this.debug,maxTime:e.maxTime||600,selector:e.selector||"script[type='text/boostify']",eventsHandler:e.eventsHandler||["mousemove","load","scroll","touchstart"],callback:e.callback||null,worker:e.worker||!1});return this.registerEvent("onload",t),t}click(e={}){const t=e.element||document.querySelector(".js--click-boostify");a.assertCondition(t instanceof Element,"Boostify.click","Element is required and must be a valid DOM element");const s=new C({debug:this.debug,element:t,callback:e.callback||null});return this.registerEvent("click",s),s}destroyclick(e={}){const t=e.element||document.querySelector(".js--click-boostify");return this.destroyEventByCondition(s=>s.type==="click"&&s.instance.element===t)}scroll(e={}){a.assertCondition(typeof e.distance=="number","Boostify.scroll","Distance is required and must be a number");const t=e.name||`scroll-${e.distance}`,s=new T({debug:this.debug,distance:e.distance,callback:e.callback||null,name:t});return this.registerEvent("scroll",s,{name:t}),s}destroyscroll(e={}){const t=e.name||`scroll-${e.distance}`;return this.destroyEventByCondition(s=>s.type==="scroll"&&s.name===t)}observer(e={}){const t=e.element||document.querySelector(".js--observer-boostify");a.assertCondition(t instanceof Element||NodeList.prototype.isPrototypeOf(t),"Boostify.observer","Element is required and must be a valid DOM element or NodeList");const i={...{root:null,rootMargin:"0px",threshold:.01},...e.options},r=new S({debug:this.debug,element:t,options:i,callback:e.callback||null}),n=t instanceof NodeList?[...t]:[t];return this.registerEvent("observer",r,{elements:n}),r}refreshobserver({element:e}={}){this.events.filter(s=>s.type==="observer"&&(!e||s.elements.includes(e))).forEach(s=>{s.instance.observers.forEach(i=>{if(!e||i.element===e){i.observer.disconnect();const r=s.instance.observers.indexOf(i);r>-1&&s.instance.observers.splice(r,1),e&&document.contains(e)&&s.instance.observeElement(e)}}),e||(s.instance.observers=[],Array.isArray(s.elements)&&s.elements.forEach(i=>{document.contains(i)&&s.instance.observeElement(i)}))})}destroyobserver(e={}){if(!e.element)return!1;const t=e.element instanceof NodeList?[...e.element]:[e.element];let s=!1;return t.forEach(i=>{const r=this.events.findIndex(n=>n.type==="observer"&&Array.isArray(n.elements)&&n.elements.includes(i));r!==-1?(this.events[r].instance.destroy({element:i}),this.events[r].instance.observers.length===0&&this.events.splice(r,1),s=!0):this.debug&&console.warn("Observer event not found for element:",i)}),s}inactivity(e={}){a.assertCondition(typeof e.callback=="function","Boostify.inactivity","Callback is required and must be a function");const t=e.name||`inactivity-${Date.now()}`,s=new $({debug:this.debug,idleTime:e.idleTime,maxTime:e.maxTime,events:e.events||["mousemove","scroll","keydown","mousedown","mouseup","click","touchstart","touchend"],callback:e.callback});return this.registerEvent("inactivity",s,{name:t}),s}destroyinactivity(e={}){a.assertCondition(e.name,"Boostify.destroyinactivity","Name is required to destroy an inactivity event");const t=e.name,s=this.events.findIndex(i=>i.type==="inactivity"&&i.name===t);a.assertCondition(s!==-1,"Boostify.destroyinactivity",`Inactivity event with name "${t}" not found`);try{return this.events[s].instance.destroy(),this.events.splice(s,1),!0}catch(i){return a.handleError("Boostify.destroyinactivity",`Error destroying inactivity event "${t}"`,i,this.debug),!1}}destroyEventByCondition(e){const t=this.events.findIndex(e);if(t!==-1)try{return this.events[t].instance.destroy(),this.events.splice(t,1),!0}catch(s){a.handleError("Boostify.destroyEventByCondition","Error destroying event",s,this.debug)}return!1}videoPlayer(e){try{const{url:{ogg:t,mp4:s},attributes:i,appendTo:r,style:n}=e,o=document.createElement("video");o.style.width="100%",o.style.height=n&&n.height?n.height:"auto",n&&Object.keys(n).forEach(l=>{o.style[l]=n[l]});for(let l in i)l==="class"?o.className=i[l]:l==="muted"?o.muted=i[l]:l==="autoplay"?o.autoplay=i[l]:l==="controls"?o.controls=i[l]:o.setAttribute(l,i[l]);if(t){const l=document.createElement("source");l.setAttribute("src",t),l.setAttribute("type","video/ogg"),o.appendChild(l)}if(s){const l=document.createElement("source");l.setAttribute("src",s),l.setAttribute("type","video/mp4"),o.appendChild(l)}let c;return typeof r=="string"?c=document.getElementById(r)||document.querySelector(r):r instanceof Element&&(c=r),a.assertCondition(c,"Boostify.videoPlayer","Append target not found"),c.appendChild(o),o}catch(t){a.handleError("Boostify.videoPlayer","Error creating video player",t,this.debug)}}videoEmbed({url:e,autoplay:t=!1,appendTo:s,style:i}){try{a.assertCondition(e,"Boostify.videoEmbed","URL is required"),a.assertCondition(s,"Boostify.videoEmbed","appendTo is required");const r=document.createElement("iframe");r.setAttribute("frameborder","0"),r.setAttribute("allowfullscreen",""),r.style.width="100%",r.style.height=i&&i.height?i.height:"100%",i&&Object.keys(i).forEach(c=>{r.style[c]=i[c]});let n=e;t&&(n+=`${e.includes("?")?"&":"?"}autoplay=1`,e.includes("youtube.com")||e.includes("youtu.be")?n+="&mute=1":e.includes("vimeo.com")&&(n+="&muted=1")),r.src=n;let o;return typeof s=="string"?o=document.getElementById(s)||document.querySelector(s):s instanceof Element&&(o=s),a.assertCondition(o,"Boostify.videoEmbed","Append target not found"),o.innerHTML="",o.appendChild(r),r}catch(r){a.handleError("Boostify.videoEmbed","Error creating video embed",r,this.debug)}}async loadScript({url:e="",attributes:t=[],appendTo:s="head",inlineScript:i=""}){return new Promise((r,n)=>{try{a.assertCondition(e||i,"Boostify.loadScript",'Either "url" or "inlineScript" must be provided');const o=g({url:e,inlineScript:i,attributes:t});o.onload=()=>{this.debug&&console.log(`%cðŸ“¦ Script: ${e} loaded`,"background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%); color: #000; padding: 4px 8px; border-radius: 4px; font-weight: bold;"),r()},o.onerror=()=>{const c=new Error(`Script load error for ${e}`);a.handleError("Boostify.loadScript","Error loading script",c,this.debug),n(c)},v(o,s),i&&!e&&r()}catch(o){a.handleError("Boostify.loadScript","Error creating script element",o,this.debug),n(o)}})}async loadStyle({url:e="",attributes:t=[],appendTo:s="head",inlineStyle:i=""}){return new Promise((r,n)=>{try{a.assertCondition(e||i,"Boostify.loadStyle",'Either "url" or "inlineStyle" must be provided');const o=k({url:e,inlineStyle:i,attributes:t});o.onload=()=>{this.debug&&console.log(`%cðŸŽ¨ Style: ${e} loaded`,"background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); color: #fff; padding: 4px 8px; border-radius: 4px; font-weight: bold;"),r()},o.onerror=()=>{const c=new Error(`Stylesheet load error for ${e}`);a.handleError("Boostify.loadStyle","Error loading stylesheet",c,this.debug),n(c)},v(o,s),(i||!e)&&r()}catch(o){a.handleError("Boostify.loadStyle","Error creating style element",o,this.debug),n(o)}})}destroyAll(){[...this.events].forEach(e=>{try{e.instance&&typeof e.instance.destroy=="function"&&e.instance.destroy()}catch(t){a.handleError("Boostify.destroyAll",`Error destroying ${e.type} event`,t,this.debug)}}),this.events=[]}}return D});
